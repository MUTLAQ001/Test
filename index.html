<!DOCTYPE html>
<html lang="ar" dir="rtl">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>QU Schedule</title>
        
        <!-- Fonts and Icons -->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;700&family=Cairo:wght@400;600;700&display=swap" rel="stylesheet">
        <link href="https://cdn.jsdelivr.net/npm/remixicon@4.2.0/fonts/remixicon.css" rel="stylesheet">
        
        <!-- External Libraries -->
        <script src='https://cdn.jsdelivr.net/npm/fullcalendar@6.1.11/index.global.min.js'></script>
        <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
        
        <!-- Your Stylesheet -->
        <link rel="stylesheet" href="style.css">
        
        <meta name="theme-color" content="#0a0a0a">
    </head>
    <body>
        <div class="cosmic-bg-container">
            <div class="nebula-glow"></div>
            <canvas id="starfield-canvas"></canvas>
        </div>
        <div id="install-section"></div>
        <div id="mobile-unsupported">
            <h2>العرض غير مدعوم</h2>
            <p>يرجى فتح الصفحة من جهاز لابتوب.</p>
            <a href="https://t.me/mutlaq1" target="_blank" rel="noopener noreferrer" class="designer-credit">MUTLAQ1</a>
        </div>
        <div class="page-wrapper">
            <main class="main-content custom-scrollbar">
                <header class="main-header">
                    <h1>
                        <i class="ri-calendar-event-line"></i>
                        QU Schedule
                    </h1>
                    <div class="header-actions">
                        <button id="settings-btn">
                            <i class="ri-settings-3-line"></i>
                            إعدادات
                        </button>
                        <button id="clear-calendar-btn">
                            <i class="ri-delete-bin-6-line"></i>
                            مسح الجدول
                        </button>
                    </div>
                </header>

                <!-- NEW: Schedule Tabs Section -->
                <div class="schedule-tabs-container card">
                    <div class="schedule-tabs-wrapper" id="schedule-tabs-wrapper">
                        <!-- Schedule tabs will be generated here by JS -->
                    </div>
                    <button id="add-schedule-btn" class="add-schedule-btn" title="إضافة جدول جديد">
                        <i class="ri-add-line"></i>
                    </button>
                </div>

                <div class="calendar-wrapper card">
                    <div id='calendar'></div>
                </div>
                <div class="my-schedule-container" id="my-schedule-container">
                    <div class="card">
                        <div class="conflict-summary-banner" id="conflict-banner">
                            <i class="ri-alert-fill"></i>
                            <span>يوجد تعارض في جدولك! المواد المتعارضة مظللة باللون الأصفر.</span>
                        </div>
                        <div class="my-schedule-section" id="my-schedule-summary">
                            <h3>
                                <i class="ri-calendar-check-line"></i>
                                جدولـي
                            </h3>
                            <div id="my-schedule-table-container" class="my-schedule-table-wrapper"></div>
                            <div class="my-schedule-footer">
                                <div class="total-credits-summary" id="total-credits-summary"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
            <aside class="sidebar" id="sidebar">
                <header class="sidebar-header">
                    <h2>
                        <i class="ri-stack-line"></i>
                        المقررات
                    </h2>
                </header>
                <div class="sidebar-content-wrapper">
                    <div class="sidebar-tabs">
                        <button class="tab-btn active" data-tab="courses-tab">
                            <i class="ri-layout-grid-line"></i>
                            المقررات المتاحة
                        </button>
                        <button class="tab-btn" data-tab="exams-tab">
                            <i class="ri-file-list-3-line"></i>
                            الاختبارات النهائية
                        </button>
                    </div>
                    <div id="courses-tab" class="tab-content active custom-scrollbar">
                        <div id="courses-list">
                            <div class="no-data" id="no-data-message">
                                <i class="ri-time-line"></i>
                                <h4>في انتظار البيانات...</h4>
                                <p>اسحب الأداة أدناه لشريط الإشارات المرجعية وشغلها من صفحة المقررات المطروحة.</p>
                            </div>
                        </div>
                    </div>
                    <div id="exams-tab" class="tab-content custom-scrollbar">
                        <div id="exams-list"></div>
                    </div>
                </div>
                <footer class="sidebar-footer">
                    <a href="https://t.me/mutlaq1" target="_blank" rel="noopener noreferrer" class="designer-credit">
                        <i class="ri-telegram-line"></i>
                        MUTLAQ1
                
                    </a>
                </footer>
            </aside>
            <div class="modal-overlay" id="modal-overlay"></div>
            <div class="settings-modal" id="settings-modal"></div>
        </div>

        <!-- Your JavaScript -->
        <script src="app.js" defer></script>
    </body>
</html>
