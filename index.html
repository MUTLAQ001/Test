<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>تجميعات سلم 102</title>
    <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
    <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <style>
        @import url("https://fonts.googleapis.com/css2?family=Cairo:wght@400;600;700&display=swap");
        @import url("https://fonts.googleapis.com/css2?family=IBM+Plex+Sans+Arabic:wght@400;700&display=swap");
        :root{--color-primary:#5e9cff;--color-primary-dark:#4b7dcc;--color-danger-red:#ff5252;--color-save-green:#00c853;--color-bg:#0a0a0a;--color-card:rgba(20,20,22,0.75);--color-border:rgba(255,255,255,0.1);--color-text:#e0e0e0;--color-text-muted:#999;--font-body:"Cairo",sans-serif;--font-title:"IBM Plex Sans Arabic",sans-serif;--radius:20px;--radius-md:16px;--radius-full:999px;--transition:0.3s cubic-bezier(0.25,0.8,0.25,1);--transition-smooth:0.5s cubic-bezier(0.2,0.8,0.2,1);--rgb-primary:94,156,255;--primary-hue:217;--secondary-hue:257;}
        * {margin:0;padding:0;box-sizing:border-box;-webkit-tap-highlight-color: transparent;}
        html{scroll-behavior:smooth;scrollbar-gutter: stable;scrollbar-width: none;}
        ::-webkit-scrollbar {display: none;}
        @keyframes gradient-animation{0%{background-position:0% 50%}50%{background-position:100% 50%}100%{background-position:0% 50%}}
        @keyframes fadeInUp{from{opacity:0;transform:translateY(20px)}to{opacity:1;transform:translateY(0)}}
        @keyframes scaleIn{from{opacity:0;transform:scale(.95)}to{opacity:1;transform:scale(1)}}
        body{font-family:var(--font-body);background-color:var(--color-bg);color:var(--color-text);direction:rtl;overflow-x:hidden;-webkit-font-smoothing:antialiased;transition: background-color var(--transition-smooth), color var(--transition-smooth);}
        .cosmic-bg-container{position:fixed;top:0;left:0;width:100%;height:100%;z-index:-2;overflow:hidden}
        #starfield-canvas{position:absolute;top:0;left:0;width:100%;height:100%}
        .nebula-glow{position:absolute;top:50%;left:50%;width:90vmax;height:90vmax;margin-top:-45vmax;margin-left:-45vmax;background:radial-gradient(circle,hsl(var(--primary-hue),90%,60%,.15) 0%,hsl(var(--secondary-hue),80%,50%,.1) 40%,transparent 70%);filter:blur(100px);border-radius:50%;animation:move-nebula 90s infinite alternate ease-in-out;transition:opacity .5s ease,background .5s ease}
        .app{min-height:100vh;position:relative;padding:2rem 1rem;}
        .container{width:100%;max-width:800px;z-index:1;display:flex;flex-direction:column;gap:1.5rem;margin:0 auto;position:relative}
        .header{text-align:center;animation:fadeInUp .8s var(--transition-smooth) both}
        .title{font-family:var(--font-title);font-weight:700;font-size:2.8rem;margin-bottom:0.25rem;background:linear-gradient(90deg,var(--color-primary-dark),var(--color-primary));-webkit-background-clip:text;-webkit-text-fill-color:transparent;background-size:200% 200%;animation:gradient-animation 5s ease-in-out infinite;}
        .subtitle{color:var(--color-text-muted);font-size:1rem;animation:fadeInUp .8s var(--transition-smooth) .2s both; letter-spacing: 0.5px;}
        .card{background:var(--color-card);border:1px solid var(--color-border);border-radius:var(--radius);padding:1.5rem;backdrop-filter:blur(16px);-webkit-backdrop-filter:blur(16px);position:relative;animation:scaleIn .8s var(--transition-smooth) .4s both;box-shadow: 0 16px 40px -12px rgba(0,0,0,0.4), inset 0 1px 0 rgba(255,255,255,0.05);}
        .filter-controls { display: flex; flex-wrap: wrap; justify-content: center; gap: 0.8rem; margin-bottom: 1.5rem; }
        .filter-btn { background: rgba(0,0,0,0.3); border: 1px solid var(--color-border); color: var(--color-text-muted); padding: 0.6rem 1.2rem; border-radius: var(--radius-full); cursor: pointer; transition: all 0.3s ease; font-family: var(--font-body); font-weight: 600; font-size: 0.95rem; }
        .filter-btn:hover { border-color: var(--color-primary); color: var(--color-text); transform: translateY(-2px); }
        .filter-btn.active { background: var(--color-primary); color: #fff; border-color: var(--color-primary); box-shadow: 0 4px 15px rgba(var(--rgb-primary), 0.3); }
        .question-card { margin-bottom: 1.5rem; padding: 1.5rem; border-right: 4px solid var(--color-primary); transition: transform 0.3s ease; }
        .question-header { font-size: 1.1rem; font-weight: 700; margin-bottom: 1.5rem; line-height: 1.6; color: var(--color-text); display: flex; flex-direction: column; gap: 0.5rem; }
        .tag-badge { align-self: flex-start; text-decoration: none; font-size: 0.75rem; padding: 0.25rem 0.75rem; border-radius: var(--radius-full); background: rgba(var(--rgb-primary), 0.15); color: var(--color-primary); font-weight: 600; border: 1px solid rgba(var(--rgb-primary), 0.2); transition: all 0.2s; display: inline-flex; align-items: center; gap: 4px; }
        .tag-badge:hover { background: rgba(var(--rgb-primary), 0.3); transform: translateY(-1px); box-shadow: 0 2px 8px rgba(var(--rgb-primary), 0.2); }
        .options-list { list-style: none; display: flex; flex-direction: column; gap: 0.8rem; }
        .option-btn { width: 100%; text-align: right; padding: 1rem 1.2rem; background: rgba(255,255,255,0.03); border: 1px solid var(--color-border); border-radius: var(--radius-md); color: var(--color-text); cursor: pointer; transition: all 0.2s ease; font-family: var(--font-body); font-size: 1rem; position: relative; overflow: hidden; }
        .option-btn:hover:not(:disabled) { background: rgba(255,255,255,0.08); border-color: var(--color-text-muted); }
        .option-btn.correct { background: rgba(0, 200, 83, 0.15); border-color: var(--color-save-green); color: #4caf50; font-weight: 700; }
        .option-btn.wrong { background: rgba(255, 82, 82, 0.15); border-color: var(--color-danger-red); color: var(--color-danger-red); opacity: 0.7; }
        .option-btn:disabled { cursor: default; }
        .score-section { display: flex; flex-direction: column; align-items: center; justify-content: center; padding: 2rem; gap: 1rem; }
        .chart-container{position:relative;min-width:140px;height:140px}
        .donut-chart{width:100%;height:100%;transform:rotate(-90deg)}
        .donut-chart-bg{fill:none;stroke:var(--color-border);stroke-width:8;}
        .donut-chart-fg{fill:none;stroke-width:8;stroke-linecap:round;transition:stroke-dashoffset 0.6s cubic-bezier(0.215, 0.61, 0.355, 1), stroke 0.4s ease; stroke: var(--color-primary);}
        .chart-info{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);text-align:center;width:100%;display:flex;flex-direction:column;justify-content:center;align-items:center}
        .chart-info span{font-family:var(--font-title);font-weight:700;font-size:2rem;color:#fff;line-height:1.1;}
        .chart-info p{font-size:.8rem;color:var(--color-text-muted);margin-top:0.25rem;}
        .reset-btn { margin-top: 1rem; background: transparent; border: 1px solid var(--color-danger-red); color: var(--color-danger-red); padding: 0.6rem 1.5rem; border-radius: var(--radius-full); cursor: pointer; transition: all 0.3s; font-family: var(--font-body); font-weight: 600; }
        .reset-btn:hover { background: var(--color-danger-red); color: #fff; box-shadow: 0 4px 15px rgba(255, 82, 82, 0.3); }
        .light-mode { --color-bg: #f4f7f6; --color-card: rgba(255, 255, 255, 0.85); --color-border: rgba(0, 0, 0, 0.08); --color-text: #2c3e50; --color-text-muted: #7f8c8d; }
        .light-mode .title { background: linear-gradient(90deg, #2c3e50, #3498db); -webkit-background-clip: text; }
        .light-mode .filter-btn { background: rgba(0,0,0,0.05); }
        .light-mode .filter-btn:hover { border-color: var(--color-primary); background: #fff; }
        .light-mode .option-btn { background: #fff; }
        .light-mode .option-btn:hover:not(:disabled) { background: #f8f9fa; border-color: var(--color-primary); }
        .light-mode .chart-info span { color: var(--color-text); }
        .light-mode .option-btn.correct { background: #d4edda; border-color: #28a745; color: #155724; }
        .light-mode .option-btn.wrong { background: #f8d7da; border-color: #dc3545; color: #721c24; }
        .settings-toggle { position: absolute; top: 1rem; left: 1rem; background: none; border: none; color: var(--color-text-muted); cursor: pointer; font-size: 1.5rem; transition: 0.3s; }
        .settings-toggle:hover { color: var(--color-primary); transform: rotate(45deg); }
        .scroll-top-btn { position: fixed; bottom: 2rem; left: 2rem; width: 50px; height: 50px; background: var(--color-primary); color: #fff; border: none; border-radius: 50%; cursor: pointer; box-shadow: 0 4px 15px rgba(0,0,0,0.3); display: flex; align-items: center; justify-content: center; font-size: 1.5rem; opacity: 0; visibility: hidden; transform: translateY(20px); transition: all 0.3s ease; z-index: 100; }
        .scroll-top-btn.visible { opacity: 1; visibility: visible; transform: translateY(0); }
        .scroll-top-btn:hover { background: var(--color-primary-dark); transform: translateY(-5px); }
        .source-link-container { display: flex; justify-content: center; margin-bottom: 1.5rem; animation: fadeInUp 0.5s ease; }
        .source-external-btn { display: flex; align-items: center; gap: 8px; background: rgba(var(--rgb-primary), 0.1); border: 1px solid var(--color-primary); color: var(--color-primary); padding: 0.5rem 1rem; border-radius: var(--radius-md); text-decoration: none; font-size: 0.9rem; transition: all 0.2s; }
        .source-external-btn:hover { background: var(--color-primary); color: #fff; }
    </style>
</head>
<body>
    <div class="cosmic-bg-container">
        <div class="nebula-glow"></div>
        <canvas id="starfield-canvas"></canvas>
    </div>

    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo, useRef } = React;
        
        const questionsDB = [
            { source: "462", q: "إذا أسلمت المرأة ولم يسلم زوجها الكتابي، ففي هذه الحالة:", options: ["أ) يفرق بينهما في الحال", "ب) يفرق بينهما إذا انقضت عدتها", "ج) يبقى الزواج ولا يفرق بينها وبين زوجها الكتابي", "د) جميع ما ذكر غير صحيح"], ans: 1 },
            { source: "462", q: "مما يُستدل به على مشروعية زكاة الفطر قوله تعالى:", options: ["أ) قَدْ أَفْلَحَ مَن تَزَكَّىٰ", "ب) قَدْ أَفْلَحَ مَن زَكَّاهَا", "ج) وَأَقِيمُوا الصَّلَاةَ وَآتُوا الزَّكَاةَ", "د) وَأَنفِقُوا مِن مَّا رَزَقْنَاكُم"], ans: 0 },
            { source: "462", q: "نظرية العقد الاجتماعي، هي فكرة مادية تقوم في حقيقتها على تبادل المصالح حال التعايش بين الناس؛ لكنها أيضاً:", options: ["أ) تقوي هي ومثيلاتها على التأليف بين قلوب أفراد المجتمع", "ب) تستطيع بث المحبة بين أفراد المجتمع", "ج) تعمل على زرع التسامح في المجتمع", "د) لا تزيد على كونها محاولة للتوفيق بين الرغائب، والملائمة بين المصالح"], ans: 3 },
            { source: "462", q: "في قول النبي ﷺ «المسلم أخو المسلم، لا يظلمه، ولا يُسلمه...» من ستر مسلماً ستره الله يوم القيامة:", options: ["أ) ترغيب في العناية بقضايا المجتمع وحاجات أفراده", "ب) حث لأفراد المجتمع على محبة الآخرين", "ج) تنظيم للعلاقة بين أفراد المجتمع المسلم", "د) جميع ما ذكر صحيح"], ans: 2 },
            { source: "462", q: "الأصل في حكم الإيلاء في الشرع أنه:", options: ["أ) مباح", "ب) مكروه", "ج) حرام", "د) واجب"], ans: 2 },
            { source: "462", q: "روى أبو هريرة أن رسول الله ﷺ قال: «والذي نفسي بيده لقد هممت أن آمر بحطب فيحتطب...» هذا الوعيد كان بسبب:", options: ["أ) ترك الصلاة تكاسلاً", "ب) ترك الصلاة جحوداً ونكراناً", "ج) التخلف عن الاجتماع لها (صلاة الجماعة)", "د) أ + ب إجابتان صحيحتان"], ans: 2 },
            { source: "462", q: "من الأسباب التي شُرعت تقوية للروابط الاجتماعية، تشريع بعض الصلوات، مثل:", options: ["أ) صلاة الجنازة", "ب) صلاة الاستسقاء", "ج) صلاة كسوف الشمس", "د) صلاة خسوف القمر"], ans: 0 },
            { source: "462", q: "تعتد المرأة بالأشهر إذا كانت:", options: ["أ) يائسة كالكبيرة في السن", "ب) صغيرة لا تحيض", "ج) توفي عنها زوجها ولم تكن حاملاً", "د) جميع ما ذكر صحيح"], ans: 3 },
            { source: "462", q: "إن المجتمع الإسلامي كغيره من المجتمعات لابد له من أسس يبنى عليها، لكنه تميز عن غيره بأكبر أساس هو:", options: ["أ) الأخوة", "ب) العقيدة", "ج) اللغة", "د) الجنس"], ans: 1 },
            { source: "462", q: "من الأهداف والغايات التي شُرعت الزكاة لها:", options: ["أ) تطهير نفس الغني من الشح والبخل", "ب) إقامة المصالح العامة للمسلمين", "ج) تطهير نفس الفقير من الحسد", "د) جميع ما ذكر صحيح"], ans: 3 },
            { source: "462", q: "لم يقتصر الإسلام في تشريع التكافل الاجتماعي على الزكاة والنفقات الواجبة، بل دعا للصدقات التطوعية مثل:", options: ["أ) النذور", "ب) الأضاحي", "ج) الكفارات", "د) جميع ما ذكر غير صحيح"], ans: 3 },
            { source: "462", q: "كانت المرأة عندهم عندما تتزوج تدخل في عصمة زوجها وتصير في حكم ابنته وممتلكاته:", options: ["أ) اليونان", "ب) الرومان", "ج) الهنود", "د) العرب في الجاهلية"], ans: 1 },
            { source: "462", q: "من شروط النكاح: تعيين الزوجين. فلا يكفي أن يقول زوجتك ابنتي وله عدة بنات، ويحصل التعيين بـ:", options: ["أ) الإشارة إلى المتزوج", "ب) تسميته باسمه", "ج) وصفه بما يتميز به", "د) جميع ما ذكر صحيح"], ans: 3 },
            { source: "462", q: "في قوله تعالى: ﴿يَا أَيُّهَا النَّاسُ اتَّقُوا رَبَّكُمُ الَّذِي خَلَقَكُم مِّن نَّفْسٍ وَاحِدَةٍ...﴾ أقر الإسلام:", options: ["أ) إنسانية المرأة وكرامتها", "ب) أنها مخلوقة من جنس الرجل", "ج) أنها إنسانة مثله تماماً في الخلقة وأصل الكرامة", "د) جميع ما ذكر صحيح"], ans: 3 },
            { source: "462", q: "من الحقوق المالية التي أعطاها الإسلام للمرأة بعد أن كانت محرومة منها:", options: ["أ) المشاورة", "ب) المتعة", "ج) الحضانة", "د) أن تتصرف فيما تملك وفق حدود الشرع"], ans: 3 },
            { source: "462", q: "من الأمور التي لا يؤاخذ بها من يعدد الزوجات إذا لم يعدل بينهن في:", options: ["أ) المسكن", "ب) النفقة والكسوة", "ج) المعاشرة", "د) الميل القلبي (الحب)"], ans: 3 },
            { source: "462", q: "من أبرز العوامل التي شرعها الإسلام حفاظاً على الأسرة المسلمة من الانحراف:", options: ["أ) الاستئذان لدخول البيت", "ب) تحقيق السكن النفسي", "ج) جعل الأسرة الطريق الوحيد للإنجاب", "د) إعداد الأسرة للتدريب على المسؤوليات"], ans: 0 },
            { source: "462", q: "يحرم على الرجل أن يجمع بين الأختين؛ لأجل القرابة بين المرأتين إذا كانتا:", options: ["أ) شقيقتين من أبوين", "ب) أختين من جهة الأب فقط", "ج) أختين من الرضاع", "د) جميع ما ذكر صحيح"], ans: 3 },
            { source: "462", q: "هناك بعض الحالات التي يجوز للرجل أن يخطب فيها على خطبة غيره، منها:", options: ["أ) إذا عدل الخاطب عن خطبته", "ب) إذا لم يأذن الخاطب الأول", "ج) إذا سكتت المرأة", "د) ب + ج"], ans: 0 },
            { source: "462", q: "روى جابر عن النبي ﷺ: «إذا خطب أحدكم المرأة فإن استطاع أن ينظر إلى ما يدعوه إلى نكاحها فليفعل». حكم النظر:", options: ["أ) حرام", "ب) جائز (مباح)", "ج) مكروه", "د) جميع ما ذكر غير صحيح"], ans: 1 },
            { source: "462", q: "كانت المرأة في الحضارة الهندية القديمة:", options: ["أ) تباع وتشترى", "ب) قاصرة غير مكلفة", "ج) معدومة الأهلية كالصغير والمجنون", "د) أحد أملاك الزوج"], ans: 1 },
            { source: "462", q: "إذا نكح الرجل المرأة بشيء من المال مدة معينة ينتهي النكاح بانتهائها (نكاح المتعة) فهو:", options: ["أ) باطل باتفاق علماء المسلمين", "ب) جائز باتفاق", "ج) مكروه", "د) مندوب"], ans: 0 },
            { source: "462", q: "من مقاصد النكاح:", options: ["أ) قرار النساء في البيوت", "ب) تحقيق الستر للرجل والمراة (الإعفاف)", "ج) تحريم الخلوة", "د) الغيرة على المحارم"], ans: 1 },
            { source: "462", q: "من عقد على امرأة، وطلقها قبل الدخول، ثم أراد بعد ذلك أن يتزوج ابنتها، فإن هذا الزواج حكمه:", options: ["أ) حرام", "ب) جائز", "ج) مكروه", "د) مستحب"], ans: 0 },
            { source: "462", q: "يُعد حق (الإرث) حقاً من:", options: ["أ) الحقوق المشتركة بين الزوجين", "ب) من حقوق الزوجة المادية", "ج) حقوق الأولاد", "د) جميع ما ذكر صحيح"], ans: 0 },
            { source: "462", q: "الطلاق البدعي: طلاق مخالف للسنة التي أمر الله بها، ومن صوره:", options: ["أ) طلقة واحدة", "ب) ثلاث مرات تباعاً في مجلس واحد", "ج) في طهر لم يمسها فيه", "د) أ + ج"], ans: 1 },
            { source: "462", q: "إذا وقع الطلاق من الزوج بأحد ألفاظ الكناية (مثل: الحقي بأهلك)، فحكم الطلاق أنه:", options: ["أ) يقع إذا نواه الزوج", "ب) يقع ولو لم ينوه", "ج) لا يقع أبداً", "د) جميع ما ذكر صحيح"], ans: 0 },
            { source: "462", q: "دل قوله تعالى: ﴿وَبُعُولَتُهُنَّ أَحَقُّ بِرَدِّهِنَّ فِي ذَٰلِكَ إِنْ أَرَادُوا إِصْلَاحًا﴾ على مشروعية:", options: ["أ) الرجعة", "ب) الخلع", "ج) العدة", "د) الإيلاء"], ans: 0 },
            { source: "462", q: "يستدل على مشروعية الخلع بقوله تعالى:", options: ["أ) فَإِنْ خِفْتُمْ أَلَّا يُقِيمَا حُدُودَ اللَّهِ فَلَا جُنَاحَ عَلَيْهِمَا فِيمَا افْتَدَتْ بِهِ", "ب) وَلَا يَحِلُّ لَكُمْ أَن تَأْخُذُوا مِمَّا آتَيْتُمُوهُنَّ شَيْئًا", "ج) فَإِن طَلَّقَهَا فَلَا تَحِلُّ لَهُ مِن بَعْدُ", "د) فَإِن طَلَّقَهَا فَلَا جُنَاحَ عَلَيْهِمَا أَن يَتَرَاجَعَا"], ans: 0 },
            { source: "462", q: "عدد ما يملك الرجل إيقاعه على زوجته من التطليقات:", options: ["أ) تطليقة واحدة", "ب) تطليقتان", "ج) ثلاث تطليقات", "د) أربع تطليقات"], ans: 2 },
            { source: "461", q: "إن الله تعالى أودع في الإنسان نزعتين متباينتين في الظاهر لكنهما متكاملتان، هما:", options: ["أ) العامة والخاصة", "ب) الفردية والاجتماعية", "ج) حب المال والراحة", "د) حب الوالد والولد"], ans: 1 },
            { source: "461", q: "قال تعالى: ﴿وَضَرَبَ اللَّهُ مَثَلًا قَرْيَةً كَانَتْ آمِنَةً مُّطْمَئِنَّةً...﴾ الآية تدل على تلازم واضح بين:", options: ["أ) الأمن والخوف", "ب) الإيمان والخشية", "ج) الأمن والإيمان، والكفر والخوف", "د) الأمن والإيمان، والكفر والنفاق"], ans: 2 },
            { source: "461", q: "قال تعالى: ﴿وَعِبَادُ الرَّحْمَٰنِ الَّذِينَ يَمْشُونَ عَلَى الْأَرْضِ هَوْنًا...﴾ دلت الآية على صفة من صفات المجتمع المسلم وهي أنه مجتمع:", options: ["أ) متسامح", "ب) متراحم", "ج) متناصح", "د) تسوده المساواة"], ans: 0 },
            { source: "461", q: "حرص الإسلام على تشريع واجبات مالية تكافلية، منها:", options: ["أ) النذور والكفارات", "ب) صدقة التطوع", "ج) الوصايا", "د) الوقف"], ans: 0 },
            { source: "461", q: "جاء في حديث أسماء بنت أبي بكر: قدمت أمي وهي مشركة فاستفتيت رسول الله ﷺ... قال:", options: ["أ) صلي أمك إن أسلمت", "ب) صلي أمك إن هاجرت", "ج) صلي أمك", "د) لا تصليها"], ans: 2 },
            { source: "461", q: "تُعد الشهادة على عقد النكاح:", options: ["أ) ركناً من أركان النكاح", "ب) شرطاً غير لازم", "ج) شرطاً من شروط النكاح", "د) أمراً مستحباً"], ans: 2 },
            { source: "461", q: "هو (وقف النسل الإنساني عن النمو والزيادة وذلك بالحيلولة دون وقوع الحمل) يقصد به:", options: ["أ) تحديد النسل", "ب) تنظيم النسل", "ج) الإجهاض العفوي", "د) الإجهاض الاختياري"], ans: 0 },
            { source: "461", q: "قال ابن العربي في قوله تعالى: ﴿حَافِظَاتٌ لِّلْغَيْبِ﴾ معنى الحفظ هنا:", options: ["أ) تحفظ مال زوجها", "ب) تحفظ غيبة زوجها", "ج) تحفظ سر زوجها", "د) تحفظ بيت زوجها"], ans: 1 },
            { source: "461", q: "التزام الحقيقة دائماً قولاً وفعلاً وظاهراً وباطناً، يُسمى:", options: ["أ) الحق", "ب) الوفاء بالعهد", "ج) العلم", "د) الصدق"], ans: 3 },
            { source: "461", q: "مما يدل على حفظ الإسلام لإنسانية المرأة وكرامتها أنه قَبِلَ شهادتها وحدها دون الرجل في:", options: ["أ) الرضاع", "ب) الدين", "ج) الحدود", "د) البيوع"], ans: 0 },
            { source: "461", q: "من النساء المحرمات حرمة مؤبدة: المحرمات بالمصاهرة، وعددهن:", options: ["أ) ثلاث نساء", "ب) أربع نساء", "ج) سبع نساء", "د) تسع نساء"], ans: 1 },
            { source: "461", q: "من أخطر أنواع الانحراف لدى الشباب:", options: ["أ) الانحراف الفكري", "ب) الانحراف الأخلاقي", "ج) الانحراف الاجتماعي", "د) الانحراف السلوكي"], ans: 0 },
            { source: "461", q: "عرف الجرجاني الحياء بأنه انقباض النفس من شيء، وهو نوعان:", options: ["أ) واجب ومستحب", "ب) نفساني وإيماني", "ج) ظاهر وباطن", "د) قول وفعل"], ans: 1 },
            { source: "461", q: "من الأنكحة الفاسدة الباطلة (نكاح الشغار)، سُمي بذلك لـ:", options: ["أ) خلوه من النفقة", "ب) خلوه من المهر", "ج) خلوه من المبيت", "د) خلوه من المسكن"], ans: 1 },
            { source: "461", q: "في مسألة التحسين والتقبيح يحتكم المجتمع إلى قاعدة ظاهرة وهي أن:", options: ["أ) المشاورة", "ب) المتعة", "ج) الحسن ما حسنه الشرع والقبيح ما قبحه الشرع", "د) الحسن ما حسنه العقل"], ans: 2 },
            { source: "461", q: "من الحقوق غير المادية التي تجب للزوجة على زوجها:", options: ["أ) القيام على أمر البيت", "ب) الطاعة بالمعروف", "ج) تعليمها أمور دينها", "د) النفقة"], ans: 2 },
            { source: "461", q: "صنف بعض الباحثين المعاصرين الأخلاق تصنيفاً معرفياً، مثل:", options: ["أ) الجد في العمل", "ب) ضبط النفس", "ج) عيادة المريض", "د) إفشاء السلام"], ans: 1 },
            { source: "461", q: "قال تعالى: ﴿يَا أَيُّهَا الَّذِينَ آمَنُوا لَا تَدْخُلُوا بُيُوتًا غَيْرَ بُيُوتِكُمْ حَتَّىٰ تَسْتَأْنِسُوا...﴾ يقصد بالاستئناس:", options: ["أ) الاستقبال", "ب) البشاشة", "ج) الاستئذان", "د) الإطالة في الزيارة"], ans: 2 },
            { source: "461", q: "قال تعالى: ﴿وَآتُوا النِّسَاءَ صَدُقَاتِهِنَّ نِحْلَةً﴾ دلت الآية على حق من حقوق الزوجة:", options: ["أ) النفقة", "ب) المهر", "ج) المبيت", "د) حسن العشرة"], ans: 1 },
            { source: "461", q: "الفرق بين الهدية والرشوة هو:", options: ["أ) الرشوة ما أخذت طلباً والهدية ما طلبت شرعاً", "ب) الرشوة تُعطى بشرط والهدية بلا شرط", "ج) الرشوة ما أخذت غصباً", "د) جميع ما سبق"], ans: 1 },
            { source: "461", q: "من المخاطر المترتبة على جريمة القذف:", options: ["أ) التشكيك في نسب الأولاد", "ب) الحرمان من الزواج", "ج) وجوب الفراق", "د) حماية الأعراض"], ans: 0 },
            { source: "461", q: "شرع الله أحكاماً وآداباً تُعد عوامل إيجابية للحفاظ على الأسرة المسلمة من الانحراف:", options: ["أ) الغيرة على المحارم", "ب) تشريع عقوبة الزنا", "ج) غض البصر", "د) جميع ما ذكر صحيح"], ans: 3 },
            { source: "461", q: "قوله تعالى: ﴿فَلَمْ تُحَاجُّونَ فِيمَا لَيْسَ لَكُم بِهِ عِلْمٌ﴾ تدل على أحد لوازم الجدل:", options: ["أ) الإيمان العميق بما يدعو له", "ب) العلم بقضية الحوار ومعرفتها", "ج) الحرص على الوصول للحق", "د) إحسان الظن بالآخر"], ans: 1 },
            { source: "461", q: "الذين كانوا قديماً يشككون في إنسانية المرأة وليس لها عندهم حق في التملك:", options: ["أ) الرومان", "ب) اليونان", "ج) النصارى", "د) العرب في الجاهلية"], ans: 2 },
            { source: "461", q: "لم يكن لتعدد الزوجات عندهم حد معين، ولا للطلاق عدد محدود... هم:", options: ["أ) النصارى", "ب) اليهود", "ج) الهنود", "د) العرب في الجاهلية"], ans: 3 },
            { source: "461", q: "قوله تعالى: ﴿أَكَّالُونَ لِلسُّحْتِ﴾ معنى السحت هنا:", options: ["أ) السرقة", "ب) الغلول", "ج) الرشوة", "د) أكل مال اليتيم"], ans: 2 },
            { source: "461", q: "سمّاه علماء الاجتماع بأنه (ضرورة الوعي بشعور الآخرين وانتهاج سلوك يتأثر بهذا الوعي):", options: ["أ) الوعي الاجتماعي", "ب) الروابط الاجتماعية", "ج) الضبط الاجتماعي", "د) العدالة الاجتماعية"], ans: 0 },
            { source: "461", q: "ذهب القرافي إلى أن تناوله غالباً تغيب معه الحواس كالبصر والسمع والشم، وهو:", options: ["أ) التبغ", "ب) المخدرات", "ج) الدخان", "د) القات"], ans: 1 },
            { source: "461", q: "من الحقوق المشتركة بين الزوجين:", options: ["أ) حسن العشرة", "ب) النفقة", "ج) الطاعة بالمعروف", "د) القيام على أمر البيت"], ans: 0 },
            { source: "461", q: "لمشروعية العدة حكم متعددة، منها:", options: ["أ) معالجة حالات النشوز", "ب) تعظيم عقد النكاح", "ج) مراعاة حال الزوج", "د) شعور الزوجة بالاستقرار"], ans: 1 },
            { source: "452", q: "من الأسس التي يقوم عليها بناء المجتمع المسلم هي:", options: ["أ) اللغة", "ب) الضبط الاجتماعي", "ج) الاقتصاد", "د) التعليم"], ans: 1 },
            { source: "452", q: "يُستدل بقوله تعالى: ﴿فَمَنِ اضْطُرَّ غَيْرَ بَاغٍ وَلَا عَادٍ فَلَا إِثْمَ عَلَيْهِ ۚ إِنَّ اللَّهَ غَفُورٌ رَّحِيمٌ﴾ على إحدى سمات المجتمع الإسلامي:", options: ["أ) المساواة", "ب) الجدية", "ج) التناصح", "د) السماحة"], ans: 3 },
            { source: "452", q: "يرى بعض الباحثين أن الروابط الاجتماعية تنقسم إلى قسمين هما:", options: ["أ) روابط فطرية ومكتسبة", "ب) روابط سلوكية وانفعالية", "ج) روابط إنسانية وعملية", "د) روابط لغوية وعرقية"], ans: 0 },
            { source: "452", q: "تُعد أبرز الوسائل التي تعين على تقوية الروابط الاجتماعية بين أبناء المجتمع الواحد:", options: ["أ) المعاملات", "ب) الأخلاق", "ج) العبادات", "د) الحوار"], ans: 2 },
            { source: "452", q: "عرفه الجرجاني بأنه: انقباض النفس من شيء:", options: ["أ) الحلم", "ب) الحياء", "ج) الصبر", "د) الوفاء"], ans: 1 },
            { source: "452", q: "صنف بعض الباحثين المعاصرين الأخلاق تصنيفاً معرفياً منها:", options: ["أ) الأخلاق الفطرية", "ب) الأخلاق الفردية", "ج) الأخلاق الفاسدة", "د) السلوك الأخلاقي"], ans: 1 },
            { source: "452", q: "هي التلطف بالإنسان للحد من ضرره:", options: ["أ) المداراة", "ب) المداهنة", "ج) المحاباة", "د) المصارحة"], ans: 0 },
            { source: "452", q: "ذهب كثير من العلماء إلى أن فعل المباح ينقلب إلى واجب في إحدى الحالات التالية:", options: ["أ) القيام بصلة أقارب أحد الوالدين", "ب) دفع الضرر عن الجيران", "ج) إذا وجد مساكين ومعوزين", "د) إذا أمر به أحد الوالدين أو كلاهما"], ans: 3 },
            { source: "452", q: "من الواجبات المالية التكافلية في الإسلام:", options: ["أ) النذور", "ب) النفقة على الزوجة", "ج) الوصايا", "د) القروض الحسنة"], ans: 0 },
            { source: "452", q: "من لوازم الجدل ومتطلبات الحوار والمناظرة: التزام الهدوء والسكينة والبعد عن الانفعال. الدليل:", options: ["أ) أَتَأْمُرُونَ النَّاسَ بِالْبِرِّ", "ب) ادْعُ إِلَىٰ سَبِيلِ رَبِّكَ بِالْحِكْمَةِ وَالْمَوْعِظَةِ الْحَسَنَةِ", "ج) وَمَا أُرِيدُ أَنْ أُخَالِفَكُمْ", "د) فَلِمَ تُحَاجُّونَ فِيمَا لَيْسَ لَكُم بِهِ عِلْمٌ"], ans: 1 },
            { source: "452", q: "يأتي قوله تعالى: ﴿سَمَّاعُونَ لِلْكَذِبِ أَكَّالُونَ لِلسُّحْتِ﴾ في معرض الحديث عن تحريم:", options: ["أ) السرقة", "ب) الاختلاس", "ج) الرشوة", "د) الغرر"], ans: 2 },
            { source: "452", q: "ما يعطى من غير طلب أو شرط للأقرباء والأصدقاء وغيرهم بقصد إظهار المودة والألفة:", options: ["أ) هدية", "ب) عطية", "ج) صدقة", "د) هبة"], ans: 0 },
            { source: "452", q: "الطلاق البائن بينونة صغرى هو الذي يملك الزوج إعادة زوجته:", options: ["أ) بعد زواجها من زوج آخر", "ب) يستطيع إعادتها دون قيد", "ج) برضاها وعقد ومهر جديدين", "د) لا يستطيع إعادتها إطلاقاً"], ans: 2 },
            { source: "452", q: "من أبرز عوامل حماية الأسرة من الانزلاق في حمأة الرذيلة:", options: ["أ) الحرية المطلقة", "ب) قرار النساء في البيوت", "ج) تهيئة المسكن المناسب", "د) تلبية رغبات الأسرة"], ans: 1 },
            { source: "452", q: "لا يمنع الإسلام من الابتكار والتجديد والانفتاح على العلوم... يدل على ذلك:", options: ["أ) أَتَأْمُرُونَ النَّاسَ بِالْبِرِّ", "ب) وَتَعَاوَنُوا عَلَى الْبِرِّ", "ج) وَسَخَّرَ لَكُم مَّا فِي السَّمَاوَاتِ", "د) الحكمة ضالة المؤمن، فحيث وجدها فهو أحق بها"], ans: 3 },
            { source: "452", q: "يشير قوله تعالى: ﴿فَإِنْ أَرَادَا فِصَالًا عَن تَرَاضٍ مِّنْهُمَا وَتَشَاوُرٍ فَلَا جُنَاحَ عَلَيْهِمَا﴾ إلى حق من حقوق المرأة:", options: ["أ) المساواة مع الرجل", "ب) حقها في التصرف بمالها", "ج) حقها في المشاورة وإبداء الرأي", "د) جعل المرأة أهل للتكليف"], ans: 2 },
            { source: "452", q: "في قوله تعالى: ﴿ذَٰلِكُمْ أَطْهَرُ لِقُلُوبِكُمْ وَقُلُوبِهِنَّ﴾ دليل على مقصد من مقاصد:", options: ["أ) الخطبة", "ب) الحجاب", "ج) الخلوة", "د) الاستئذان"], ans: 1 },
            { source: "452", q: "يأتي قوله تعالى: ﴿وَآتُوا النِّسَاءَ صَدُقَاتِهِنَّ نِحْلَةً﴾ في سياق الحديث عن حق:", options: ["أ) النفقة", "ب) الغيرة عليها", "ج) المهر", "د) تعليمها أمور دينها"], ans: 2 },
            { source: "452", q: "من المحرمات بالمصاهرة (القرابة بالزواج) من النساء وهن:", options: ["أ) بنات النساء (الربائب)", "ب) أمهات النساء", "ج) زوجات الأب", "د) زوجات الابن"], ans: 0 },
            { source: "452", q: "قال ابن العربي في قوله تعالى: ﴿فَالصَّالِحَاتُ قَانِتَاتٌ حَافِظَاتٌ لِّلْغَيْبِ﴾، معنى حافظات للغيب:", options: ["أ) محافظات على الصلوات", "ب) من تحفظ زوجها في غيبته", "ج) حافظات للقرآن", "د) عالمات بأمور دينهن"], ans: 1 },
            { source: "452", q: "أن ينكح الرجل المرأة بشيء من المال مدة معينة ينتهي النكاح بانتهائها من غير طلاق، يسمى:", options: ["أ) نكاح الشغار", "ب) نكاح المتعة", "ج) نكاح التحليل", "د) نكاح الاستبضاع"], ans: 1 },
            { source: "452", q: "يُعد أخطر أنواع الانحراف لدى الشباب:", options: ["أ) الانحراف الفكري", "ب) الانحراف السلوكي", "ج) الانحراف الأخلاقي", "د) الانحراف الاجتماعي"], ans: 0 },
            { source: "452", q: "من الأضرار الاجتماعية للمخدرات والمسكرات:", options: ["أ) ذهاب بركة الأموال", "ب) ضعف جسم الإنسان", "ج) توقع العداوة والبغضاء بين أفراد الأسرة", "د) ضمور المخ"], ans: 2 },
            { source: "452", q: "قال تعالى: ﴿فَلَا تَعْضُلُوهُنَّ أَن يَنكِحْنَ أَزْوَاجَهُنَّ﴾ معنى العضل:", options: ["أ) منع المرأة من التزوج بكفئها إذا طلبت ذلك", "ب) إلزام المرأة باللحاق بزوجها", "ج) حرمان المرأة من زوجها وأولادها", "د) إجبار المرأة على الخلع"], ans: 0 },
            { source: "452", q: "من الحقوق المشتركة بين الزوجين:", options: ["أ) الطاعة بالمعروف", "ب) حرمة المصاهرة", "ج) القيام على أمر البيت", "د) الغيرة"], ans: 1 },
            { source: "452", q: "المحرمات من النساء على التأبيد ثلاثة أصناف: منها:", options: ["أ) المحرمات بسبب الجمع", "ب) المحرمات لاختلاف الدين", "ج) المحرمات بالرضاع", "د) المحرمة بسبب الإحرام"], ans: 2 },
            { source: "452", q: "fراق الزوج لزوجته بعوض بألفاظ مخصوصة هو:", options: ["أ) طلاق", "ب) خلع", "ج) إيلاء", "د) ظهار"], ans: 1 },
            { source: "452", q: "دل قوله تعالى: ﴿وَأَنكِحُوا الْأَيَامَىٰ مِنكُمْ﴾ على:", options: ["أ) تعيين الزوجين", "ب) وجوب الإشهاد", "ج) موافقة الولي", "د) رضا الزوجين"], ans: 2 },
            { source: "452", q: "من المخاطر المترتبة على جريمة القذف:", options: ["أ) الحرمان من الزواج", "ب) وجوب الفراق", "ج) حماية الأعراض", "د) تفكك الأسر وانهيارها"], ans: 3 },
            { source: "452", q: "النزعة التي تجعل الإنسان يحب الخير لنفسه ويدفع الشر عنها، تسمى:", options: ["أ) النزعة الفردية", "ب) النزعة الإنسانية", "ج) النزعة الاجتماعية", "د) النزعة النفسية"], ans: 0 },
            { source: "451", q: "اعتناق بعض الشباب لأفكار غير سوية تهدم معالم الدين... يعد انحرافاً:", options: ["أ) فكرياً", "ب) سلوكياً", "ج) اجتماعياً", "د) أخلاقياً"], ans: 0 },
            { source: "451", q: "إن المجتمع الإسلامي كغيره من المجتمعات لابد له من أسس... أكبر أساس هو:", options: ["أ) الأخوة", "ب) العقيدة", "ج) اللغة", "د) الجنس"], ans: 1 },
            { source: "451", q: "كانوا في الجاهلية يؤلون من نسائهم كيف شاؤوا... جاء الإسلام بتحريم الإيلاء المطلق وحدده بمدة لا تزيد على:", options: ["أ) ثلاثة أشهر", "ب) ثلاثة قروء", "ج) أربعة أشهر وعشراً", "د) أربعة أشهر"], ans: 3 },
            { source: "451", q: "احتاج الإنسان في أي عصر للعيش في وفاق... وقد حرص النبي ﷺ على تحقيق هذا في المدينة من خلال:", options: ["أ) بناء المسجد", "ب) تكوين تجمع خاص", "ج) المؤاخاة بين المهاجرين والأنصار", "د) أ + ب"], ans: 2 },
            { source: "451", q: "من الحقوق غير المادية الخالصة التي تجب للمرأة على زوجها:", options: ["أ) تعليمها أمور دينها", "ب) حرمة المصاهرة", "ج) الإرث", "د) حسن العشرة"], ans: 0 },
            { source: "451", q: "إذا أسلم الزوج غير المسلم المتزوج بامرأة كتابية، فإنه:", options: ["أ) يفرق بينهما", "ب) يبقى الزواج كما هو لعدم وجود المانع", "ج) يفرق إذا لم يكن أولاد", "د) لا شيء مما سبق"], ans: 1 },
            { source: "451", q: "من سمات المجتمع المسلم أنه مجتمع متسامح... ومن مظاهر ذلك:", options: ["أ) الإحسان للوالدين الكافرين", "ب) إباحة الزواج من الكتابيات", "ج) جواز المعاملات الدنيوية", "د) جميع ما سبق ذكره صحيح"], ans: 3 },
            { source: "451", q: "يحرم على الرجل أن يخطب على خطبة أخيه... لكن يجوز في حالات منها:", options: ["أ) إذا عدل الخاطب", "ب) إذا لم تسكن المرأة للخاطب", "ج) إذا أذن الخاطب لغيره", "د) جميع ما سبق ذكره صحيح"], ans: 3 },
            { source: "451", q: "ينعقد النكاح بلفظ (الإنكاح أو التزويج) بصيغة الماضي مثل:", options: ["أ) زوجتك أو أنكحتك", "ب) تزوج أو أنكح", "ج) أزوجك أو أنكحك", "د) جميع ما سبق"], ans: 0 },
            { source: "451", q: "حرص الإسلام على تحقيق التكافل الاجتماعي المالي... مثل:", options: ["أ) الوصايا", "ب) الصدقة التطوعية", "ج) دية القتل الخطأ على العاقلة", "د) القروض الحسنة"], ans: 2 },
            { source: "451", q: "يستدل بقوله تعالى: ﴿فَإِنْ خِفْتُمْ أَلَّا يُقِيمَا حُدُودَ اللَّهِ فَلَا جُنَاحَ عَلَيْهِمَا فِيمَا افْتَدَتْ بِهِ﴾ على مشروعية:", options: ["أ) اللعان", "ب) الخلع", "ج) الطلاق", "د) العدة"], ans: 1 },
            { source: "451", q: "من الأضرار الاجتماعية الخطيرة المترتبة على تعاطي المخدرات:", options: ["أ) كثرة الحوادث المؤلمة", "ب) الصد عن ذكر الله", "ج) ذهاب بركة الأموال", "د) كثرة نفقات العلاج"], ans: 0 },
            { source: "451", q: "شرع الله أحكاماً وآداباً تعد عوامل إيجابية للحفاظ على الأسرة... منها:", options: ["أ) قرار النساء في البيوت", "ب) تحريم الخلوة", "ج) تشريع عقوبة الزنا", "د) جميع ما سبق صحيح"], ans: 3 },
            { source: "451", q: "من الأخلاق الأسرية التي دعا إليها الإسلام تقوية للروابط:", options: ["أ) الإحسان للزوجة", "ب) إفشاء السلام", "ج) الوفاء بالعهد", "د) عيادة المريض"], ans: 0 },
            { source: "451", q: "مما يؤكد أثر المرأة... أن النبي ﷺ كان يخص النساء بحديث يعظهن في خطب صلاة:", options: ["أ) الجمعة", "ب) العيدين", "ج) الاستسقاء", "د) الكسوف"], ans: 1 },
            { source: "451", q: "من الحقوق التي أعطاها الإسلام للمرأة... حق المشاورة، كما شرع لها:", options: ["أ) إبداء رأيها في الزواج", "ب) اشتراط الطلاق بيدها", "ج) حق المخالعة", "د) جميع ما ذكر صحيح"], ans: 3 },
            { source: "451", q: "من الحالات التي يجب فيها الطلاق:", options: ["أ) زوجة سليطة اللسان", "ب) إذا ترتب ضرر بالزواج", "ج) طلاق الحكمين في الشقاق إذا رأيا ذلك", "د) زوجة مؤذية"], ans: 2 },
            { source: "451", q: "إذا طلق الزوج المسلم زوجته الكتابية أو توفي عنها، فإن حكم العدة في حقها:", options: ["أ) مستحباً", "ب) واجباً", "ج) مباحاً", "د) مكروهاً"], ans: 1 },
            { source: "451", q: "من الأخطار والأضرار المترتبة على فعل جريمة اللواط:", options: ["أ) مقت الله ولعنته", "ب) ضعف الجسم", "ج) ابتزاز الأموال", "د) وقوع العداوة"], ans: 0 },
            { source: "451", q: "الأرحام هم أقارب الإنسان... ودعانا الإسلام إلى صلتهم، وحكم ذلك:", options: ["أ) مستحب", "ب) سنة مؤكدة", "ج) واجب", "د) لا شيء مما ذكر"], ans: 2 },
            { source: "451", q: "كانت المرأة عندهم عندما تتزوج تدخل في عصمة زوجها وتصير في حكم ابنته وممتلكاته:", options: ["أ) اليونان", "ب) الرومان", "ج) الهنود", "د) العرب في الجاهلية"], ans: 1 },
            { source: "451", q: "لما كان أساس قيام الأسرة هو الزواج، نقاه الإسلام من الصور الجاهلية مثل نكاح:", options: ["أ) التحليل", "ب) الخدن", "ج) المسيار", "د) أ + ج"], ans: 1 },
            { source: "451", q: "كان التعدد بين الزوجات موجوداً قبل الإسلام... وعمل به بعض الأنبياء كـ:", options: ["أ) يحيى", "ب) عيسى", "ج) يونس", "د) يعقوب"], ans: 3 },
            { source: "451", q: "حديث «أتعجبون من غيرة سعد...» المقصود هو:", options: ["أ) سعد بن الربيع", "ب) سعد بن معاذ", "ج) سعد بن عبادة", "د) سعد بن أبي وقاص"], ans: 2 },
            { source: "451", q: "دل ما روي «لا نكاح إلا بولي وشاهدي عدل» على أن الشهادة في العقد:", options: ["أ) شرط لازم لا يعتبر العقد صحيحاً بدونها", "ب) شرط غير لازم", "ج) شرط لازم لكن يعتبر صحيحاً", "د) كل ما سبق خطأ"], ans: 0 },
            { source: "451", q: "دعا الإسلام إلى الأخلاق الفاضلة... ومن هذه صفة تُكسبك المحبة وبها يتعاشر أهل الجنة:", options: ["أ) الصدق", "ب) الحياء", "ج) البشاشة وطالقة الوجه", "د) المداراة"], ans: 2 },
            { source: "451", q: "لقد تنبه المعنيون... لأهمية الضبط الاجتماعي... نظرية العقد الاجتماعي للعالم:", options: ["أ) ابن رشد", "ب) روسو", "ج) ابن سينا", "د) سميث"], ans: 1 },
            { source: "451", q: "من الحقوق التي تجب للأولاد على والديهم قبل أن يولدوا:", options: ["أ) اختيار الاسم", "ب) الحضانة", "ج) النفقة", "د) الجنين في الحياة"], ans: 3 },
            { source: "451", q: "من الشروط الفاسدة المفسدة لعقد الزواج (نكاح لمدة معينة) يسمى:", options: ["أ) المسيار", "ب) التحليل", "ج) المتعة", "د) الاستبضاع"], ans: 2 },
            { source: "451", q: "حكم جماع الرجل زوجته التي ظاهر منها قبل الكفارة:", options: ["أ) حرام", "ب) مكروه", "ج) مستحب", "د) جائز"], ans: 0 }
        ];

        const sourceLinks = {
            "462": "https://t.me/ExamsQU/4/1836",
            "461": "https://t.me/ExamsQU/4/1652",
            "452": "https://t.me/ExamsQU/4/1403",
            "451": "https://t.me/ExamsQU/4/1308"
        };

        const useAnimatedNumber = (target, duration = 500) => {
            const [currentNumber, setCurrentNumber] = useState(target);
            const frameRef = useRef();
            const startNumberRef = useRef(target);
            const startTimeRef = useRef();
            useEffect(() => {
                const startNumber = startNumberRef.current;
                startTimeRef.current = performance.now();
                const animate = (currentTime) => {
                    const elapsedTime = currentTime - startTimeRef.current;
                    const progress = Math.min(elapsedTime / duration, 1);
                    const easeOutProgress = 1 - Math.pow(1 - progress, 3);
                    const newNumber = startNumber + (target - startNumber) * easeOutProgress;
                    setCurrentNumber(newNumber);
                    if (progress < 1) { frameRef.current = requestAnimationFrame(animate); } 
                    else { startNumberRef.current = target; }
                };
                frameRef.current = requestAnimationFrame(animate);
                return () => cancelAnimationFrame(frameRef.current);
            }, [target, duration]);
            return currentNumber;
        };

        const DonutChart = ({ percentage }) => {
            const animatedPercentage = useAnimatedNumber(percentage);
            const circumference = 2 * Math.PI * 45;
            const offset = circumference - (animatedPercentage / 100) * circumference;
            return (
                <div className="chart-container">
                    <svg className="donut-chart" viewBox="0 0 100 100"><circle className="donut-chart-bg" cx="50" cy="50" r="45" /><circle className="donut-chart-fg" cx="50" cy="50" r="45" strokeDasharray={circumference} strokeDashoffset={Math.max(0, offset)} /></svg>
                    <div className="chart-info">
                        <span>{animatedPercentage.toFixed(0)}%</span>
                        <p>النتيجة</p>
                    </div>
                </div>
            );
        };

        const SvgIcon = ({ d, ...props }) => (
            <svg stroke="currentColor" fill="currentColor" strokeWidth="0" viewBox="0 0 24 24" height="1em" width="1em" xmlns="http://www.w3.org/2000/svg" {...props}><path d={d}></path></svg>
        );
        const Icons = {
            Moon: props => <SvgIcon d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z" {...props} />,
            Sun: props => <SvgIcon d="M12 1v2M12 21v2M4.22 4.22l1.42 1.42M18.36 18.36l1.42 1.42M1 12h2M21 12h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42" fill="none" strokeWidth="2" stroke="currentColor" {...props} />,
            ArrowUp: props => <SvgIcon d="M7.41 15.41L12 10.83l4.59 4.58L18 14l-6-6-6 6z" {...props} />,
            Link: props => <SvgIcon d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6M15 3h6v6M10 14L21 3" fill="none" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round" {...props} />
        };

        function App() {
            const [currentFilter, setCurrentFilter] = useState('all');
            const [filteredQuestions, setFilteredQuestions] = useState([]);
            const [score, setScore] = useState(0);
            const [answered, setAnswered] = useState({});
            const [colorMode, setColorMode] = useState('dark');
            const [showScrollBtn, setShowScrollBtn] = useState(false);

            useEffect(() => {
                const list = currentFilter === 'all' 
                    ? questionsDB 
                    : questionsDB.filter(q => q.source === currentFilter);
                setFilteredQuestions(list);
                resetQuiz();
            }, [currentFilter]);

            useEffect(() => {
                document.body.className = colorMode === 'light' ? 'light-mode' : '';
            }, [colorMode]);

            useEffect(() => {
                const handleScroll = () => {
                    if (window.scrollY > 300) {
                        setShowScrollBtn(true);
                    } else {
                        setShowScrollBtn(false);
                    }
                };
                window.addEventListener('scroll', handleScroll);
                return () => window.removeEventListener('scroll', handleScroll);
            }, []);

            const resetQuiz = () => {
                setScore(0);
                setAnswered({});
                window.scrollTo({ top: 0, behavior: "smooth" });
            };

            const handleAnswer = (qIndex, selectedOptIndex, correctOptIndex) => {
                if (answered[qIndex]) return;
                const isCorrect = selectedOptIndex === correctOptIndex;
                if (isCorrect) setScore(prev => prev + 1);
                setAnswered(prev => ({
                    ...prev,
                    [qIndex]: { selected: selectedOptIndex, correct: isCorrect }
                }));
            };

            const toggleMode = () => setColorMode(prev => prev === 'dark' ? 'light' : 'dark');
            const scorePercentage = filteredQuestions.length > 0 ? (score / filteredQuestions.length) * 100 : 0;
            const scrollToTop = () => {
                window.scrollTo({ top: 0, behavior: 'smooth' });
            };

            return (
                <div className="app">
                    <div className="container">
                        <header className="header">
                            <button className="settings-toggle" onClick={toggleMode}>
                                {colorMode === 'dark' ? <Icons.Sun /> : <Icons.Moon />}
                            </button>
                            <h1 className="title">تجميعات سلم 102</h1>
                            <p className="subtitle">نماذج نهائية (462, 461, 452, 451)</p>
                        </header>

                        <div className="card">
                            <div className="score-section">
                                <DonutChart percentage={scorePercentage} />
                                <div style={{textAlign: 'center', color: 'var(--color-text-muted)'}}>
                                    تمت الإجابة: <span style={{color: 'var(--color-primary)', fontWeight:'bold'}}>{score}</span> / {filteredQuestions.length}
                                </div>
                            </div>
                            
                            <div className="filter-controls">
                                {['all', '462', '461', '452', '451'].map(filter => (
                                    <button 
                                        key={filter}
                                        className={`filter-btn ${currentFilter === filter ? 'active' : ''}`}
                                        onClick={() => setCurrentFilter(filter)}
                                    >
                                        {filter === 'all' ? 'الكل' : `نموذج ${filter}`}
                                    </button>
                                ))}
                            </div>
                            
                            {currentFilter !== 'all' && sourceLinks[currentFilter] && (
                                <div className="source-link-container">
                                    <a href={sourceLinks[currentFilter]} target="_blank" rel="noopener noreferrer" className="source-external-btn">
                                        <span>📄 فتح ملف التجميعات ({currentFilter})</span>
                                        <Icons.Link size={14} />
                                    </a>
                                </div>
                            )}

                            {filteredQuestions.length > 0 && <button className="reset-btn" onClick={resetQuiz} style={{width:'100%', marginBottom: '1.5rem'}}>إعادة الاختبار</button>}

                            <div>
                                {filteredQuestions.map((item, index) => {
                                    const status = answered[index];
                                    return (
                                        <div key={index} className="question-card">
                                            <div className="question-header">
                                                <a 
                                                    href={sourceLinks[item.source]} 
                                                    target="_blank" 
                                                    rel="noopener noreferrer"
                                                    className="tag-badge"
                                                    title="فتح الملف الأصلي"
                                                >
                                                    {item.source} <Icons.Link size={12}/>
                                                </a>
                                                <span>{index + 1}. {item.q}</span>
                                            </div>
                                            <div className="options-list">
                                                {item.options.map((opt, optIndex) => {
                                                    let btnClass = 'option-btn';
                                                    if (status) {
                                                        if (optIndex === item.ans) btnClass += ' correct';
                                                        else if (status.selected === optIndex && !status.correct) btnClass += ' wrong';
                                                    }
                                                    return (
                                                        <button 
                                                            key={optIndex}
                                                            className={btnClass}
                                                            onClick={() => handleAnswer(index, optIndex, item.ans)}
                                                            disabled={!!status}
                                                        >
                                                            {opt}
                                                        </button>
                                                    )
                                                })}
                                            </div>
                                        </div>
                                    );
                                })}
                            </div>
                        </div>

                        <button className={`scroll-top-btn ${showScrollBtn ? 'visible' : ''}`} onClick={scrollToTop} aria-label="إلى الأعلى">
                            <Icons.ArrowUp />
                        </button>

                    </div>
                </div>
            );
        }
        
        const root = ReactDOM.createRoot(document.getElementById("root"));
        root.render(<App />);
    </script>
    <script>
    document.addEventListener('DOMContentLoaded', () => {
        const initCosmicEffects = () => {
            const canvas = document.getElementById('starfield-canvas'); if (!canvas) return;
            const ctx = canvas.getContext('2d');
            let layers = [], shootingStars = [];

            function resizeCanvas() { 
                canvas.width = window.innerWidth; 
                canvas.height = window.innerHeight; 
            }
            
            class Star { 
                constructor(layerConfig) {
                    this.config = layerConfig;
                    this.reset();
                }
                reset() {
                    this.x = Math.random() * canvas.width;
                    this.y = Math.random() * canvas.height;
                    this.radius = Math.random() * this.config.maxSize + this.config.minSize;
                    this.alpha = 0;
                    this.alphaChange = Math.random() * 0.02 + 0.005;
                    this.maxAlpha = Math.random() * 0.7 + 0.1;
                    this.vx = (Math.random() - 0.5) * this.config.speed;
                    this.vy = (Math.random() - 0.5) * this.config.speed;
                }
                draw() {
                    if (Math.random() > 0.99) {
                         this.alpha += this.alphaChange; 
                        if (this.alpha >= this.maxAlpha || this.alpha <= 0) this.alphaChange *= -1; 
                    } else {
                         if (this.alpha < this.maxAlpha) this.alpha += 0.01;
                    }

                    ctx.globalAlpha = this.alpha;
                    ctx.beginPath();
                    ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
                    ctx.fillStyle = `hsl(220, 80%, 95%)`;
                    ctx.fill();
                    ctx.globalAlpha = 1;
                }
                update() {
                    this.x += this.vx;
                    this.y += this.vy; 
                    if (this.x > canvas.width + this.radius) this.x = -this.radius;
                    if (this.x < -this.radius) this.x = canvas.width + this.radius;
                    if (this.y > canvas.height + this.radius) this.y = -this.radius;
                    if (this.y < -this.radius) this.y = canvas.height + this.radius;
                    this.draw();
                }
            }

            class ShootingStar { constructor() { this.reset(); } reset() { this.x = Math.random() * canvas.width; this.y = 0; this.len = Math.random() * 80 + 10; this.speed = Math.random() * 10 + 6; this.size = Math.random() * 1 + 0.1; this.waitTime = new Date().getTime() + Math.random() * 3000 + 500; this.active = false; } update() { if (this.active) { this.x -= this.speed; this.y += this.speed; if (this.x < 0 || this.y >= canvas.height) this.reset(); } else if (this.waitTime < new Date().getTime()) this.active = true; } draw() { if (this.active) { ctx.strokeStyle = `hsla(220, 100%, 80%, ${Math.random() * 0.5 + 0.5})`; ctx.lineWidth = this.size; ctx.beginPath(); ctx.moveTo(this.x, this.y); ctx.lineTo(this.x + this.len, this.y - this.len); ctx.stroke(); } } }
            
            function initStars() { 
                layers = [];
                shootingStars = [];
                const layerConfigs = [
                    { speed: 0.05, maxSize: 0.8, minSize: 0.2, count: Math.floor(canvas.width / 8) },
                    { speed: 0.1, maxSize: 1.2, minSize: 0.3, count: Math.floor(canvas.width / 15) }, 
                    { speed: 0.15, maxSize: 1.5, minSize: 0.5, count: Math.floor(canvas.width / 35) } 
                ];
                layerConfigs.forEach(config => {
                    let stars = [];
                    for(let i=0; i<config.count; i++) { stars.push(new Star(config)); }
                    layers.push(stars);
                });
                for (let i = 0; i < 3; i++) { shootingStars.push(new ShootingStar()); } 
            }

            function animate() { 
                requestAnimationFrame(animate); 
                ctx.clearRect(0, 0, canvas.width, canvas.height);
                layers.forEach(starLayer => { starLayer.forEach(star => star.update()); });
                shootingStars.forEach(s => { s.update(); s.draw(); });
            }

            window.addEventListener('resize', () => { resizeCanvas(); initStars(); });
            resizeCanvas(); 
            initStars(); 
            animate();
        };
        initCosmicEffects();
    });
    </script>
</body>
</html>
